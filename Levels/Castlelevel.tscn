[gd_scene load_steps=13 format=3 uid="uid://crw30x2a4jwy8"]

[ext_resource type="PackedScene" uid="uid://bf6bynsx4a287" path="res://Assets/3D_Assets/Environment/Wall_Stone_Gate_Bldg_01.glb" id="8_h0yef"]
[ext_resource type="PackedScene" uid="uid://w5t4qtpu17kh" path="res://Assets/3D_Assets/Environment/Stone_Wall_Bldg_04.glb" id="9_c7bgh"]
[ext_resource type="PackedScene" uid="uid://dgoesen5sg84v" path="res://Assets/3D_Assets/Environment/Turret_Square_Bldg_02.glb" id="10_exf0s"]
[ext_resource type="PackedScene" uid="uid://din0skhgct6qb" path="res://Assets/3D_Assets/Environment/House_Modular_01.glb" id="11_6kysd"]
[ext_resource type="PackedScene" uid="uid://c5i0n6kv75bvq" path="res://Interactible/passage.tscn" id="27_jgvcn"]
[ext_resource type="PackedScene" uid="uid://dc050cjfq6j4r" path="res://Player/player.tscn" id="28_gknsr"]
[ext_resource type="VoxelGIData" uid="uid://diew0ukw5bcu2" path="res://Levels/GIData/castle_level.VoxelGI_data.res" id="30_20t8q"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_54b6e"]
sky_top_color = Color(0.1375, 0.31625003, 0.55, 1)
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_s41d2"]
sky_material = SubResource("ProceduralSkyMaterial_54b6e")

[sub_resource type="Environment" id="Environment_gtnvv"]
background_mode = 2
sky = SubResource("Sky_s41d2")
tonemap_mode = 2
glow_enabled = true
glow_strength = 0.2
glow_bloom = 0.5
glow_blend_mode = 0

[sub_resource type="NavigationMesh" id="NavigationMesh_t80w2"]
vertices = PackedVector3Array(-19.5, 1, -24.5, -19.5, 1, 24.5, 19.5, 1, 24.5, 19.5, 1.25, -24.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
geometry_parsed_geometry_type = 1
filter_baking_aabb = AABB(-25, 0, -25, 50, 1, 50)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_gtnvv"]
albedo_color = Color(0.32156864, 0.31764707, 0.11764706, 1)

[node name="Level" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0581491, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_gtnvv")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 0, 0)
shadow_enabled = true
directional_shadow_blend_splits = true

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.10324478, -0.24993896, -0.19486237)
navigation_mesh = SubResource("NavigationMesh_t80w2")

[node name="floor" type="CSGBox3D" parent="NavigationRegion3D"]
use_collision = true
size = Vector3(40, 1, 60)
material = SubResource("StandardMaterial3D_gtnvv")

[node name="FloorDecorations" type="Node3D" parent="NavigationRegion3D/floor"]

[node name="Vegetation" type="Node3D" parent="NavigationRegion3D"]

[node name="Castle" type="Node3D" parent="NavigationRegion3D"]

[node name="Wall_Stone_Gate_Bldg_012" parent="NavigationRegion3D/Castle" instance=ExtResource("8_h0yef")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.13424492, 0.5332134, 22.313095)

[node name="Stone_Wall_Bldg_042" parent="NavigationRegion3D/Castle/Wall_Stone_Gate_Bldg_012" instance=ExtResource("9_c7bgh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0.022718608, 0)

[node name="Stone_Wall_Bldg_043" parent="NavigationRegion3D/Castle/Wall_Stone_Gate_Bldg_012" instance=ExtResource("9_c7bgh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.98995, 0.022718608, 0)

[node name="Stone_Wall_Bldg_044" parent="NavigationRegion3D/Castle/Wall_Stone_Gate_Bldg_012" instance=ExtResource("9_c7bgh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.916311, 0.022718608, 0)

[node name="Stone_Wall_Bldg_045" parent="NavigationRegion3D/Castle/Wall_Stone_Gate_Bldg_012" instance=ExtResource("9_c7bgh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.619967, 0.022718608, 0)

[node name="Stone_Wall_Bldg_046" parent="NavigationRegion3D/Castle/Wall_Stone_Gate_Bldg_012" instance=ExtResource("9_c7bgh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.630016, 0.022718608, 0)

[node name="Stone_Wall_Bldg_047" parent="NavigationRegion3D/Castle/Wall_Stone_Gate_Bldg_012" instance=ExtResource("9_c7bgh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.703655, 0.022718608, 0)

[node name="Turret_Square_Bldg_022" parent="NavigationRegion3D/Castle/Wall_Stone_Gate_Bldg_012" instance=ExtResource("10_exf0s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.7278347, 0.16293788, 0)

[node name="Turret_Square_Bldg_024" parent="NavigationRegion3D/Castle/Wall_Stone_Gate_Bldg_012" instance=ExtResource("10_exf0s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 21.054913, 0.16293788, 0)

[node name="Turret_Square_Bldg_023" parent="NavigationRegion3D/Castle/Wall_Stone_Gate_Bldg_012" instance=ExtResource("10_exf0s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.639944, -0.4803269, 0)

[node name="BackWall" type="Node3D" parent="NavigationRegion3D/Castle"]

[node name="Stone_Wall_Bldg_042" parent="NavigationRegion3D/Castle/BackWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.4830208, 0, -28)

[node name="Stone_Wall_Bldg_043" parent="NavigationRegion3D/Castle/BackWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.516979, 0, -28)

[node name="Stone_Wall_Bldg_044" parent="NavigationRegion3D/Castle/BackWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.483021, 0, -28)

[node name="Stone_Wall_Bldg_045" parent="NavigationRegion3D/Castle/BackWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.48302, 0, -28)

[node name="Stone_Wall_Bldg_046" parent="NavigationRegion3D/Castle/BackWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.516979, 0, -28)

[node name="Turret_Square_Bldg_022" parent="NavigationRegion3D/Castle/BackWall" instance=ExtResource("10_exf0s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.549873, 0, -27.85439)

[node name="Turret_Square_Bldg_023" parent="NavigationRegion3D/Castle/BackWall" instance=ExtResource("10_exf0s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.450127, 0, -27.85439)

[node name="Turret_Square_Bldg_024" parent="NavigationRegion3D/Castle/BackWall" instance=ExtResource("10_exf0s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.5498734, 0, -27.85439)

[node name="Turret_Square_Bldg_025" parent="NavigationRegion3D/Castle/BackWall" instance=ExtResource("10_exf0s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.4501266, 0, -27.85439)

[node name="SideWall" type="Node3D" parent="NavigationRegion3D/Castle"]

[node name="Stone_Wall_Bldg_042" parent="NavigationRegion3D/Castle/SideWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777773, 0, -30.222218)

[node name="Stone_Wall_Bldg_043" parent="NavigationRegion3D/Castle/SideWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777773, 0, -30.222218)

[node name="Stone_Wall_Bldg_044" parent="NavigationRegion3D/Castle/SideWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777773, 0, -30.222218)

[node name="Stone_Wall_Bldg_045" parent="NavigationRegion3D/Castle/SideWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777773, 0, -22.222218)

[node name="Stone_Wall_Bldg_046" parent="NavigationRegion3D/Castle/SideWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777775, 0, -14.222218)

[node name="Stone_Wall_Bldg_047" parent="NavigationRegion3D/Castle/SideWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777775, 0, -6.2222176)

[node name="Stone_Wall_Bldg_048" parent="NavigationRegion3D/Castle/SideWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777775, 0, 0.7777815)

[node name="Stone_Wall_Bldg_049" parent="NavigationRegion3D/Castle/SideWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777775, 0, 8.777782)

[node name="Stone_Wall_Bldg_050" parent="NavigationRegion3D/Castle/SideWall" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777775, 0, 15.777782)

[node name="SideWall2" type="Node3D" parent="NavigationRegion3D/Castle"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 37, 0, 0)

[node name="Stone_Wall_Bldg_042" parent="NavigationRegion3D/Castle/SideWall2" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777773, 0, -30.222218)

[node name="Stone_Wall_Bldg_043" parent="NavigationRegion3D/Castle/SideWall2" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777773, 0, -30.222218)

[node name="Stone_Wall_Bldg_044" parent="NavigationRegion3D/Castle/SideWall2" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777773, 0, -30.222218)

[node name="Stone_Wall_Bldg_045" parent="NavigationRegion3D/Castle/SideWall2" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777773, 0, -22.222218)

[node name="Stone_Wall_Bldg_046" parent="NavigationRegion3D/Castle/SideWall2" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777775, 0, -14.222218)

[node name="Stone_Wall_Bldg_047" parent="NavigationRegion3D/Castle/SideWall2" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777775, 0, -6.2222176)

[node name="Stone_Wall_Bldg_048" parent="NavigationRegion3D/Castle/SideWall2" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777775, 0, 0.7777815)

[node name="Stone_Wall_Bldg_049" parent="NavigationRegion3D/Castle/SideWall2" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777775, 0, 8.777782)

[node name="Stone_Wall_Bldg_050" parent="NavigationRegion3D/Castle/SideWall2" instance=ExtResource("9_c7bgh")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -18.777775, 0, 15.777782)

[node name="Decorations" type="Node3D" parent="NavigationRegion3D"]

[node name="Interactible" type="Node3D" parent="NavigationRegion3D"]

[node name="Passage" parent="NavigationRegion3D/Interactible" instance=ExtResource("27_jgvcn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.318218, 22.67845)
next_level = "uid://cr4654fn6luyn"

[node name="Buildings" type="Node3D" parent="NavigationRegion3D"]

[node name="House_Modular_012" parent="NavigationRegion3D/Buildings" instance=ExtResource("11_6kysd")]
transform = Transform3D(0.8660254, 0, 0.5, 0, 1, 0, -0.5, 0, 0.8660254, -6, 0, -15)

[node name="House_Modular_013" parent="NavigationRegion3D/Buildings" instance=ExtResource("11_6kysd")]
transform = Transform3D(0.8660254, 0, -0.49999988, 0, 1, 0, 0.49999988, 0, 0.8660254, 13, 0, -13)

[node name="House_Modular_014" parent="NavigationRegion3D/Buildings" instance=ExtResource("11_6kysd")]
transform = Transform3D(-0.5, 0, 0.8660252, 0, 1, 0, -0.8660252, 0, -0.5, -11, 0, 6)

[node name="Player" parent="." instance=ExtResource("28_gknsr")]
transform = Transform3D(-1, 0, 8.940697e-08, 0, 1, 0, -8.940697e-08, 0, -1, 0, 1.250061, 17)

[node name="Enemies" type="Node3D" parent="."]

[node name="VoxelGI" type="VoxelGI" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)
size = Vector3(60, 40, 80)
data = ExtResource("30_20t8q")
